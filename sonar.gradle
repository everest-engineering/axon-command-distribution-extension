jacocoTestReport {
    reports {
        xml.enabled true
        html.enabled true
    }
}

test.finalizedBy jacocoTestReport

sonarqube {
    properties {
        property "sonar.projectName", "Axon command distribution extension"
        property "sonar.projectKey", "everest-engineering_axon-command-distribution-extension"
        property 'sonar.organization', 'everestengineering'
        property 'sonar.host.url', 'https://sonarcloud.io'
        property 'sonar.test.exclusions', '**/*Test.java'
    }
}

tasks['sonarqube'].dependsOn test
